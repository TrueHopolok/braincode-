<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# session

```go
import "github.com/TrueHopolok/braincode-/server/session"
```

Implements:

- session can be encrypted into jwt for transfering
- contain functionality to work with expiration time
- contain functionality to key changing to secure the encryption

Package can be used in multithreads.

## Index

- [Constants](<#constants>)
- [func SetKey\(new\_cur\_key \[\]byte\) error](<#SetKey>)
- [func SwitchKey\(\)](<#SwitchKey>)
- [type Session](<#Session>)
  - [func New\(name string\) Session](<#New>)
  - [func \(ses Session\) CreateJWT\(\) string](<#Session.CreateJWT>)
  - [func \(ses Session\) IsExpired\(\) bool](<#Session.IsExpired>)
  - [func \(ses \*Session\) UpdateExpiration\(\)](<#Session.UpdateExpiration>)
  - [func \(ses \*Session\) ValidateJWT\(token string\) bool](<#Session.ValidateJWT>)


## Constants

<a name="EXPIRATION_TIME"></a>Session expiration time messarued in hours

```go
const EXPIRATION_TIME = 1.0
```

<a name="SetKey"></a>
## func [SetKey](<https://github.com/TrueHopolok/braincode-/blob/main/server/session/keys.go#L46>)

```go
func SetKey(new_cur_key []byte) error
```

\!WARN\! \- Use only for testing and debuging purposes

Updates keys:

- previous key become previously current key
- current key is set to a given key

<a name="SwitchKey"></a>
## func [SwitchKey](<https://github.com/TrueHopolok/braincode-/blob/main/server/session/keys.go#L33>)

```go
func SwitchKey()
```

Updates keys:

- previous key become previously current key
- current key randomly generates

<a name="Session"></a>
## type [Session](<https://github.com/TrueHopolok/braincode-/blob/main/server/session/session.go#L24-L27>)

Stores all info about session.

All fields can be accessed outside of a package. The methods only here as helpers implementation.

```go
type Session struct {
    Name   string    `json:"name"`
    Expire time.Time `json:"expire"`
}
```

<a name="New"></a>
### func [New](<https://github.com/TrueHopolok/braincode-/blob/main/server/session/session.go#L29>)

```go
func New(name string) Session
```



<a name="Session.CreateJWT"></a>
### func \(Session\) [CreateJWT](<https://github.com/TrueHopolok/braincode-/blob/main/server/session/jwt.go#L29>)

```go
func (ses Session) CreateJWT() string
```

Create jwt with information from provided session. May panic if somehow json or hmac packages fail.

<a name="Session.IsExpired"></a>
### func \(Session\) [IsExpired](<https://github.com/TrueHopolok/braincode-/blob/main/server/session/session.go#L37>)

```go
func (ses Session) IsExpired() bool
```



<a name="Session.UpdateExpiration"></a>
### func \(\*Session\) [UpdateExpiration](<https://github.com/TrueHopolok/braincode-/blob/main/server/session/session.go#L33>)

```go
func (ses *Session) UpdateExpiration()
```



<a name="Session.ValidateJWT"></a>
### func \(\*Session\) [ValidateJWT](<https://github.com/TrueHopolok/braincode-/blob/main/server/session/jwt.go#L45>)

```go
func (ses *Session) ValidateJWT(token string) bool
```

Check if given jwt is valid using keysin memory. Decoded information will save into provided session. May panic if somehow json or hmac packages fail, but that should be possible.

```
if jwt is invalid: ses is unchanged
```

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
